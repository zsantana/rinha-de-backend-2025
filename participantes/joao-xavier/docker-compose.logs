
 Network joao-xavier_default  Creating
 Network joao-xavier_default  Created
 Volume "joao-xavier_uds"  Creating
 Volume "joao-xavier_uds"  Created
 Container joao-xavier-worker-1  Creating
 Container joao-xavier-worker-1  Created
 Container joao-xavier-api_0-1  Creating
 Container joao-xavier-api_1-1  Creating
 Container joao-xavier-api_1-1  Created
 Container joao-xavier-api_0-1  Created
 Container joao-xavier-lb-1  Creating
 Container joao-xavier-lb-1  Created
Attaching to api_0-1, api_1-1, lb-1, worker-1
worker-1  | 2025-08-09T01:39:15.957245Z  INFO ThreadId(01) src/worker/mod.rs:25: starting worker
worker-1  | 2025-08-09T01:39:15.957274Z  INFO ThreadId(01) src/worker/mod.rs:37: starting payment_req_consumer
worker-1  | 2025-08-09T01:39:15.958164Z  INFO ThreadId(01) src/worker/mod.rs:72: listening on /var/run/worker.socket
api_1-1   | 2025-08-09T01:39:16.252104Z  INFO ThreadId(01) src/api/mod.rs:20: starting API
api_1-1   | 2025-08-09T01:39:16.252217Z  INFO ThreadId(01) src/api/mod.rs:27: binded to unix socket on /var/run/api1.sock
api_0-1   | 2025-08-09T01:39:16.296997Z  INFO ThreadId(01) src/api/mod.rs:20: starting API
api_0-1   | 2025-08-09T01:39:16.297145Z  INFO ThreadId(01) src/api/mod.rs:27: binded to unix socket on /var/run/api0.sock
lb-1      | 2025-08-09T01:39:16.508252Z  INFO ThreadId(01) src/lb.rs:40: starting lb on port 9999
lb-1      | 2025-08-09T01:39:16.508308Z  INFO ThreadId(01) src/lb.rs:44: api instances ["/var/run/api0.sock", "/var/run/api1.sock"]
lb-1      | 2025-08-09T01:39:16.508320Z  INFO ThreadId(01) src/lb.rs:48: allocating 1024 512B buffers
worker-1  | 2025-08-09T01:39:24.795218Z  INFO ThreadId(03) src/worker/mod.rs:116: db purged
worker-1  | =================================== Metrics ====================================
worker-1  | 
worker-1  | Key        Kind      Value                                                          Units ğš« Delta                                                              | Description                 | Labels
worker-1  | --------------------------------------------------------------------------------
worker-1  | db.insert  Histogram [p50=1070.0921211167483, p99=2111.8086101328972, max=5760]#206 ns    ğš« [p50=+1070.0921211167483, p99=+2111.8086101328972, max=+5760]#+206 | db insert time              | 
worker-1  | db.select  Histogram [p50=5536.401520892398, p99=5536.401520892398, max=7404]#2     ns    ğš« [p50=+5536.401520892398, p99=+5536.401520892398, max=+7404]#+2     | db query time               | 
worker-1  | pp_http    Histogram [p50=779.0693117438866, p99=1507.0358983226843, max=5339]#206  Î¼s    ğš« [p50=+779.0693117438866, p99=+1507.0358983226843, max=+5339]#+206  | payment processor http time | 
worker-1  | uds.handle Histogram [p50=11.000052032263987, p99=36.999337498439296, max=3425]#209 Î¼s    ğš« [p50=+11.000052032263987, p99=+36.999337498439296, max=+3425]#+209 | http handler time           | 
worker-1  | 
worker-1  | ================================ After 15.000 s ================================
worker-1  | 
api_1-1   | =================================== Metrics ====================================
api_1-1   | 
api_1-1   | Key       Kind      Value Units ğš« Delta                | Description | Labels
api_1-1   | --------------------------------------------------------------------------------
api_1-1   | http.conn Counter   31    N/A   ğš« 2.0666474719205006/s | N/A         | 
api_1-1   | http.req  Counter   115   N/A   ğš« 7.666595460350243/s  | N/A         | 
api_1-1   | 
api_1-1   | ================================ After 15.000 s ================================
api_1-1   | 
api_0-1   | =================================== Metrics ====================================
api_0-1   | 
api_0-1   | Key       Kind      Value Units ğš« Delta                | Description | Labels
api_0-1   | --------------------------------------------------------------------------------
api_0-1   | http.conn Counter   32    N/A   ğš« 2.1333220884503836/s | N/A         | 
api_0-1   | http.req  Counter   115   N/A   ğš« 7.666626255368566/s  | N/A         | 
api_0-1   | 
api_0-1   | ================================ After 15.000 s ================================
api_0-1   | 
lb-1      | =================================== Metrics ====================================
lb-1      | 
lb-1      | Key       Kind      Value                                                        Units ğš« Delta                                                            | Description       | Labels
lb-1      | --------------------------------------------------------------------------------
lb-1      | http.get  Histogram [p50=3719.334459052856, p99=3719.334459052856, max=4200]#2   Î¼s    ğš« [p50=+3719.334459052856, p99=+3719.334459052856, max=+4200]#+2   | http handler time | 
lb-1      | http.post Histogram [p50=43.004295563838824, p99=91.00368589491838, max=104]#242 Î¼s    ğš« [p50=+43.004295563838824, p99=+91.00368589491838, max=+104]#+242 | http handler time | 
lb-1      | 
lb-1      | ================================ After 15.000 s ================================
lb-1      | 
worker-1  | =================================== Metrics ====================================
worker-1  | 
worker-1  | Key        Kind      Value                                                          Units ğš« Delta                                                               | Description                 | Labels
worker-1  | --------------------------------------------------------------------------------
worker-1  | db.insert  Histogram [p50=960.9285128337589, p99=2089.1237955624974, max=32259]#705 ns    ğš« [p50=-109.16360828298946, p99=-22.684814570399794, max=+26499]#+499 | db insert time              | 
worker-1  | db.select  Histogram [p50=4681.154390683852, p99=5536.401520892398, max=7404]#4     ns    ğš« [p50=-855.247130208546, p99=+0, max=+0]#+2                          | db query time               | 
worker-1  | pp_http    Histogram [p50=810.053275174244, p99=101488.42519014297, max=101871]#729 Î¼s    ğš« [p50=+30.98396343035745, p99=+99981.38929182028, max=+96532]#+523   | payment processor http time | 
worker-1  | uds.handle Histogram [p50=9.000678850493848, p99=28.002674013785647, max=3425]#2159 Î¼s    ğš« [p50=-1.9993731817701388, p99=-8.996663484653649, max=+0]#+1950     | http handler time           | 
worker-1  | 
worker-1  | ================================ After 15.000 s ================================
worker-1  | 
api_1-1   | =================================== Metrics ====================================
api_1-1   | 
api_1-1   | Key       Kind      Value Units ğš« Delta               | Description | Labels
api_1-1   | --------------------------------------------------------------------------------
api_1-1   | http.conn Counter   100   N/A   ğš« 4.599980132379143/s | N/A         | 
api_1-1   | http.req  Counter   1114  N/A   ğš« 66.59971235140237/s | N/A         | 
api_1-1   | 
api_1-1   | ================================ After 15.000 s ================================
api_1-1   | 
api_0-1   | =================================== Metrics ====================================
api_0-1   | 
api_0-1   | Key       Kind      Value Units ğš« Delta               | Description | Labels
api_0-1   | --------------------------------------------------------------------------------
api_0-1   | http.conn Counter   100   N/A   ğš« 4.533310150287446/s | N/A         | 
api_0-1   | http.req  Counter   1110  N/A   ğš« 66.33299411082365/s | N/A         | 
api_0-1   | 
api_0-1   | ================================ After 15.000 s ================================
api_0-1   | 
lb-1      | =================================== Metrics ====================================
lb-1      | 
lb-1      | Key       Kind      Value                                                        Units ğš« Delta                                                           | Description       | Labels
lb-1      | --------------------------------------------------------------------------------
lb-1      | http.get  Histogram [p50=3649.3342122700446, p99=3719.334459052856, max=4200]#4  Î¼s    ğš« [p50=-70.00024678281125, p99=+0, max=+0]#+2                     | http handler time | 
lb-1      | http.post Histogram [p50=45.00168833801188, p99=90.00813093751373, max=191]#2267 Î¼s    ğš« [p50=+1.9973927741730577, p99=-0.99555495740465, max=+87]#+2025 | http handler time | 
lb-1      | 
lb-1      | ================================ After 15.000 s ================================
lb-1      | 
worker-1  | =================================== Metrics ====================================
worker-1  | 
worker-1  | Key        Kind      Value                                                             Units ğš« Delta                                                                 | Description                 | Labels
worker-1  | --------------------------------------------------------------------------------
worker-1  | db.insert  Histogram [p50=960.9285128337589, p99=2089.1237955624974, max=32259]#705    ns    ğš« [p50=+0, p99=+0, max=+0]#+0                                           | db insert time              | 
worker-1  | db.select  Histogram [p50=4681.154390683852, p99=5536.401520892398, max=7404]#5        ns    ğš« [p50=+0, p99=+0, max=+0]#+1                                           | db query time               | 
worker-1  | pp_http    Histogram [p50=2852.3543544506315, p99=101589.96437680333, max=2001453]#913 Î¼s    ğš« [p50=+2042.3010792763876, p99=+101.53918666036043, max=+1899582]#+184 | payment processor http time | 
worker-1  | uds.handle Histogram [p50=26.451159794800258, p99=43.004295563838824, max=18559]#6163  Î¼s    ğš« [p50=+17.45048094430641, p99=+15.001621550053176, max=+15134]#+4004   | http handler time           | 
worker-1  | 
worker-1  | ================================ After 15.000 s ================================
worker-1  | 
api_1-1   | =================================== Metrics ====================================
api_1-1   | 
api_1-1   | Key       Kind      Value Units ğš« Delta                | Description | Labels
api_1-1   | --------------------------------------------------------------------------------
api_1-1   | http.conn Counter   168   N/A   ğš« 4.533301249044853/s  | N/A         | 
api_1-1   | http.req  Counter   3140  N/A   ğš« 135.06571074360107/s | N/A         | 
api_1-1   | 
api_1-1   | ================================ After 15.000 s ================================
api_1-1   | 
api_0-1   | =================================== Metrics ====================================
api_0-1   | 
api_0-1   | Key       Kind      Value Units ğš« Delta                | Description | Labels
api_0-1   | --------------------------------------------------------------------------------
api_0-1   | http.conn Counter   169   N/A   ğš« 4.599930241751222/s  | N/A         | 
api_0-1   | http.req  Counter   3134  N/A   ğš« 134.93128709136917/s | N/A         | 
api_0-1   | 
api_0-1   | ================================ After 15.000 s ================================
api_0-1   | 
lb-1      | =================================== Metrics ====================================
lb-1      | 
lb-1      | Key       Kind      Value                                                           Units ğš« Delta                                                               | Description       | Labels
lb-1      | --------------------------------------------------------------------------------
lb-1      | http.get  Histogram [p50=3649.3342122700446, p99=3719.334459052856, max=4200]#5     Î¼s    ğš« [p50=+0, p99=+0, max=+0]#+1                                         | http handler time | 
lb-1      | http.post Histogram [p50=46.997763141040394, p99=140.00806267298202, max=2577]#6342 Î¼s    ğš« [p50=+1.9960748030285131, p99=+49.999931735468294, max=+2386]#+4075 | http handler time | 
lb-1      | 
lb-1      | ================================ After 15.000 s ================================
lb-1      | 
worker-1  | =================================== Metrics ====================================
worker-1  | 
worker-1  | Key        Kind      Value                                                              Units ğš« Delta                                                              | Description                 | Labels
worker-1  | --------------------------------------------------------------------------------
worker-1  | db.insert  Histogram [p50=478.04267921471046, p99=1865.9022963678963, max=33342]#6014   ns    ğš« [p50=-482.8858336190484, p99=-223.22149919460117, max=+1083]#+5309 | db insert time              | 
worker-1  | db.select  Histogram [p50=4681.154390683852, p99=5536.401520892398, max=7404]#7         ns    ğš« [p50=+0, p99=+0, max=+0]#+2                                        | db query time               | 
worker-1  | pp_http    Histogram [p50=2852.3543544506315, p99=101305.91033683931, max=2001453]#6224 Î¼s    ğš« [p50=+0, p99=-284.05403996401583, max=+0]#+5311                    | payment processor http time | 
worker-1  | uds.handle Histogram [p50=26.451159794800258, p99=85.0041441331074, max=18559]#12227    Î¼s    ğš« [p50=+0, p99=+41.99984856926858, max=+0]#+6064                     | http handler time           | 
worker-1  | 
worker-1  | ================================ After 15.000 s ================================
worker-1  | 
api_1-1   | =================================== Metrics ====================================
api_1-1   | 
api_1-1   | Key       Kind      Value Units ğš« Delta               | Description | Labels
api_1-1   | --------------------------------------------------------------------------------
api_1-1   | http.conn Counter   237   N/A   ğš« 4.599898871836622/s | N/A         | 
api_1-1   | http.req  Counter   6195  N/A   ğš« 203.6621891805925/s | N/A         | 
api_1-1   | 
api_1-1   | ================================ After 15.000 s ================================
api_1-1   | 
api_0-1   | =================================== Metrics ====================================
api_0-1   | 
api_0-1   | Key       Kind      Value Units ğš« Delta                | Description | Labels
api_0-1   | --------------------------------------------------------------------------------
api_0-1   | http.conn Counter   238   N/A   ğš« 4.599958083955284/s  | N/A         | 
api_0-1   | http.req  Counter   6186  N/A   ğš« 203.46481264103662/s | N/A         | 
api_0-1   | 
api_0-1   | ================================ After 15.000 s ================================
api_0-1   | 
lb-1      | =================================== Metrics ====================================
lb-1      | 
lb-1      | Key       Kind      Value                                                           Units ğš« Delta                                                          | Description       | Labels
lb-1      | --------------------------------------------------------------------------------
lb-1      | http.get  Histogram [p50=3490.848197472665, p99=3719.334459052856, max=4200]#7      Î¼s    ğš« [p50=-158.48601479737954, p99=+0, max=+0]#+2                   | http handler time | 
lb-1      | http.post Histogram [p50=52.00292714104081, p99=183.99342299596765, max=2577]#12479 Î¼s    ğš« [p50=+5.005164000000413, p99=+43.98536032298563, max=+0]#+6137 | http handler time | 
lb-1      | 
lb-1      | ================================ After 15.000 s ================================
lb-1      | 
[Klb-1 exited with code 143
[Kapi_1-1 exited with code 143
[Kapi_0-1 exited with code 143
[Kworker-1 exited with code 143
log truncated at line 1000
