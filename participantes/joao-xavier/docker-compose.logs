
 Network joao-xavier_default  Creating
 Network joao-xavier_default  Created
 Volume "joao-xavier_uds"  Creating
 Volume "joao-xavier_uds"  Created
 Container joao-xavier-worker-1  Creating
 Container joao-xavier-worker-1  Created
 Container joao-xavier-api_1-1  Creating
 Container joao-xavier-api_0-1  Creating
 Container joao-xavier-api_0-1  Created
 Container joao-xavier-api_1-1  Created
 Container joao-xavier-nginx-1  Creating
 Container joao-xavier-nginx-1  Created
Attaching to api_0-1, api_1-1, nginx-1, worker-1
worker-1  | 2025-08-05T17:25:50.627906Z  INFO ThreadId(01) src/worker/mod.rs:24: starting worker
worker-1  | 2025-08-05T17:25:50.627944Z  INFO ThreadId(01) src/worker/mod.rs:36: starting payment_req_consumer
worker-1  | 2025-08-05T17:25:50.628178Z  INFO ThreadId(01) src/worker/mod.rs:74: listening on /var/run/rinha.sock
api_1-1   | 2025-08-05T17:25:50.948989Z  INFO ThreadId(01) src/api/mod.rs:18: starting API
api_1-1   | 2025-08-05T17:25:50.949119Z  INFO ThreadId(01) src/api/mod.rs:31: binded to unix socket on /var/run/api_1.sock
api_0-1   | 2025-08-05T17:25:50.981894Z  INFO ThreadId(01) src/api/mod.rs:18: starting API
api_0-1   | 2025-08-05T17:25:50.982030Z  INFO ThreadId(01) src/api/mod.rs:31: binded to unix socket on /var/run/api_0.sock
nginx-1   | /docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration
nginx-1   | /docker-entrypoint.sh: Looking for shell scripts in /docker-entrypoint.d/
nginx-1   | /docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh
nginx-1   | 10-listen-on-ipv6-by-default.sh: info: Getting the checksum of /etc/nginx/conf.d/default.conf
nginx-1   | 10-listen-on-ipv6-by-default.sh: info: Enabled listen on IPv6 in /etc/nginx/conf.d/default.conf
nginx-1   | /docker-entrypoint.sh: Sourcing /docker-entrypoint.d/15-local-resolvers.envsh
nginx-1   | /docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh
nginx-1   | /docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh
nginx-1   | /docker-entrypoint.sh: Configuration complete; ready for start up
worker-1  | 2025-08-05T17:26:00.128455Z  INFO ThreadId(02) src/worker/mod.rs:117: db purged
worker-1  | =================================== Metrics ====================================
worker-1  | 
worker-1  | Key        Kind      Value                                                         Units ğš« Delta                                                             | Description                 | Labels
worker-1  | --------------------------------------------------------------------------------
worker-1  | db.insert  Histogram [p50=1848.0753405620203, p99=2014.0442019065054, max=13784]#5 ns    ğš« [p50=+1848.0753405620203, p99=+2014.0442019065054, max=+13784]#+5 | db insert time              | 
worker-1  | db.select  Histogram [p50=4884.880117885461, p99=4884.880117885461, max=6828]#2    ns    ğš« [p50=+4884.880117885461, p99=+4884.880117885461, max=+6828]#+2    | db query time               | 
worker-1  | pp_http    Histogram [p50=2959.8682069357974, p99=3175.117828183234, max=6988]#5   Î¼s    ğš« [p50=+2959.8682069357974, p99=+3175.117828183234, max=+6988]#+5   | payment processor http time | 
worker-1  | uds.handle Histogram [p50=15.000747062474648, p99=493.98246256392105, max=4558]#8  Î¼s    ğš« [p50=+15.000747062474648, p99=+493.98246256392105, max=+4558]#+8  | http handler time           | 
worker-1  | 
worker-1  | ================================ After 10.000 s ================================
worker-1  | 
api_1-1   | =================================== Metrics ====================================
api_1-1   | 
api_1-1   | Key       Kind      Value                                                      Units ğš« Delta                                                          | Description       | Labels
api_1-1   | --------------------------------------------------------------------------------
api_1-1   | http.post Histogram [p50=12.999358414978186, p99=22.001266179232907, max=46]#4 Î¼s    ğš« [p50=+12.999358414978186, p99=+22.001266179232907, max=+46]#+4 | http handler time | 
api_1-1   | 
api_1-1   | ================================ After 10.000 s ================================
api_1-1   | 
api_0-1   | =================================== Metrics ====================================
api_0-1   | 
api_0-1   | Key       Kind      Value                                                      Units ğš« Delta                                                          | Description       | Labels
api_0-1   | --------------------------------------------------------------------------------
api_0-1   | http.get  Histogram [p50=257.0061497242343, p99=257.0061497242343, max=2617]#2 Î¼s    ğš« [p50=+257.0061497242343, p99=+257.0061497242343, max=+2617]#+2 | http handler time | 
api_0-1   | http.post Histogram [p50=11.999920242205052, p99=12.999358414978186, max=95]#4 Î¼s    ğš« [p50=+11.999920242205052, p99=+12.999358414978186, max=+95]#+4 | http handler time | 
api_0-1   | 
api_0-1   | ================================ After 10.000 s ================================
api_0-1   | 
worker-1  | =================================== Metrics ====================================
worker-1  | 
worker-1  | Key        Kind      Value                                                           Units ğš« Delta                                                             | Description                 | Labels
worker-1  | --------------------------------------------------------------------------------
worker-1  | db.insert  Histogram [p50=1084.0941346313152, p99=2014.0442019065054, max=14329]#517 ns    ğš« [p50=-763.9812059307051, p99=+0, max=+545]#+512                   | db insert time              | 
worker-1  | db.select  Histogram [p50=4954.740248842975, p99=4954.740248842975, max=6828]#3      ns    ğš« [p50=+69.86013095751423, p99=+69.86013095751423, max=+0]#+1       | db query time               | 
worker-1  | pp_http    Histogram [p50=751.0708716898183, p99=100498.69621308622, max=101968]#517 Î¼s    ğš« [p50=-2208.797335245979, p99=+97323.57838490298, max=+94980]#+512 | payment processor http time | 
worker-1  | uds.handle Histogram [p50=9.000678850493848, p99=33.99794245495759, max=4558]#562    Î¼s    ğš« [p50=-6.0000682119808, p99=-459.98452010896347, max=+0]#+554      | http handler time           | 
worker-1  | 
worker-1  | ================================ After 10.000 s ================================
worker-1  | 
api_1-1   | =================================== Metrics ====================================
api_1-1   | 
api_1-1   | Key       Kind      Value                                                       Units ğš« Delta                                                            | Description       | Labels
api_1-1   | --------------------------------------------------------------------------------
api_1-1   | http.get  Histogram [p50=719.0277965058932, p99=719.0277965058932, max=719]#1   Î¼s    ğš« [p50=+719.0277965058932, p99=+719.0277965058932, max=+719]#+1    | http handler time | 
api_1-1   | http.post Histogram [p50=9.999149133010329, p99=46.00269619758199, max=250]#295 Î¼s    ğš« [p50=-3.000209281967857, p99=+24.001430018349083, max=+204]#+291 | http handler time | 
api_1-1   | 
api_1-1   | ================================ After 10.000 s ================================
api_1-1   | 
api_0-1   | =================================== Metrics ====================================
api_0-1   | 
api_0-1   | Key       Kind      Value                                                       Units ğš« Delta                                                           | Description       | Labels
api_0-1   | --------------------------------------------------------------------------------
api_0-1   | http.get  Histogram [p50=257.0061497242343, p99=257.0061497242343, max=2617]#2  Î¼s    ğš« [p50=+0, p99=+0, max=+0]#+0                                     | http handler time | 
api_0-1   | http.post Histogram [p50=9.999149133010329, p99=81.99842253400263, max=565]#297 Î¼s    ğš« [p50=-2.000771109194723, p99=+68.99906411902444, max=+470]#+293 | http handler time | 
api_0-1   | 
api_0-1   | ================================ After 10.000 s ================================
api_0-1   | 
worker-1  | =================================== Metrics ====================================
worker-1  | 
worker-1  | Key        Kind      Value                                                           Units ğš« Delta                                                              | Description                 | Labels
worker-1  | --------------------------------------------------------------------------------
worker-1  | db.insert  Histogram [p50=1056.904908461128, p99=2144.1532980018774, max=46943]#705  ns    ğš« [p50=-27.18922617018734, p99=+130.10909609537202, max=+32614]#+188 | db insert time              | 
worker-1  | db.select  Histogram [p50=4884.880117885461, p99=4954.740248842975, max=6828]#4      ns    ğš« [p50=-69.86013095751423, p99=+0, max=+0]#+1                        | db query time               | 
worker-1  | pp_http    Histogram [p50=801.9931103874957, p99=101569.64841552402, max=102096]#715 Î¼s    ğš« [p50=+50.92223869767736, p99=+1070.9522024377948, max=+128]#+198   | payment processor http time | 
worker-1  | uds.handle Histogram [p50=8.000467695685316, p99=31.998851340699826, max=4558]#2030  Î¼s    ğš« [p50=-1.0002111548085324, p99=-1.9990911142577623, max=+0]#+1468   | http handler time           | 
worker-1  | 
worker-1  | ================================ After 10.000 s ================================
worker-1  | 
api_1-1   | =================================== Metrics ====================================
api_1-1   | 
api_1-1   | Key       Kind      Value                                                         Units ğš« Delta                                                            | Description       | Labels
api_1-1   | --------------------------------------------------------------------------------
api_1-1   | http.get  Histogram [p50=719.0277965058932, p99=719.0277965058932, max=719]#1     Î¼s    ğš« [p50=+0, p99=+0, max=+0]#+0                                      | http handler time | 
api_1-1   | http.post Histogram [p50=9.000678850493848, p99=29.997078882470035, max=290]#1044 Î¼s    ğš« [p50=-0.9984702825164806, p99=-16.005617315111955, max=+40]#+749 | http handler time | 
api_1-1   | 
api_1-1   | ================================ After 10.000 s ================================
api_1-1   | 
api_0-1   | =================================== Metrics ====================================
api_0-1   | 
api_0-1   | Key       Kind      Value                                                         Units ğš« Delta                                                         | Description       | Labels
api_0-1   | --------------------------------------------------------------------------------
api_0-1   | http.get  Histogram [p50=318.01546516977334, p99=318.01546516977334, max=2617]#3  Î¼s    ğš« [p50=+61.009315445539016, p99=+61.009315445539016, max=+0]#+1 | http handler time | 
api_0-1   | http.post Histogram [p50=9.000678850493848, p99=31.998851340699826, max=565]#1047 Î¼s    ğš« [p50=-0.9984702825164806, p99=-49.9995711933028, max=+0]#+750 | http handler time | 
api_0-1   | 
api_0-1   | ================================ After 10.000 s ================================
api_0-1   | 
worker-1  | =================================== Metrics ====================================
worker-1  | 
worker-1  | Key        Kind      Value                                                           Units ğš« Delta                                                            | Description                 | Labels
worker-1  | --------------------------------------------------------------------------------
worker-1  | db.insert  Histogram [p50=1056.904908461128, p99=2144.1532980018774, max=46943]#705  ns    ğš« [p50=+0, p99=+0, max=+0]#+0                                      | db insert time              | 
worker-1  | db.select  Histogram [p50=4884.880117885461, p99=4954.740248842975, max=6828]#5      ns    ğš« [p50=+0, p99=+0, max=+0]#+1                                      | db query time               | 
worker-1  | pp_http    Histogram [p50=919.0127699508876, p99=101529.02868051104, max=102096]#907 Î¼s    ğš« [p50=+117.01965956339188, p99=-40.61973501298053, max=+0]#+192   | payment processor http time | 
worker-1  | uds.handle Histogram [p50=6.999928967377545, p99=28.002674013785647, max=4558]#4413  Î¼s    ğš« [p50=-1.0005387283077711, p99=-3.9961773269141787, max=+0]#+2383 | http handler time           | 
worker-1  | 
worker-1  | ================================ After 10.000 s ================================
worker-1  | 
api_1-1   | =================================== Metrics ====================================
api_1-1   | 
api_1-1   | Key       Kind      Value                                                         Units ğš« Delta                                           | Description       | Labels
api_1-1   | --------------------------------------------------------------------------------
api_1-1   | http.get  Histogram [p50=719.0277965058932, p99=719.0277965058932, max=719]#1     Î¼s    ğš« [p50=+0, p99=+0, max=+0]#+0                     | http handler time | 
api_1-1   | http.post Histogram [p50=9.000678850493848, p99=28.002674013785647, max=290]#2250 Î¼s    ğš« [p50=+0, p99=-1.9944048686843878, max=+0]#+1206 | http handler time | 
api_1-1   | 
api_1-1   | ================================ After 10.000 s ================================
api_1-1   | 
api_0-1   | =================================== Metrics ====================================
api_0-1   | 
api_0-1   | Key       Kind      Value                                                         Units ğš« Delta                                          | Description       | Labels
api_0-1   | --------------------------------------------------------------------------------
api_0-1   | http.get  Histogram [p50=257.0061497242343, p99=318.01546516977334, max=2617]#4   Î¼s    ğš« [p50=-61.009315445539016, p99=+0, max=+0]#+1   | http handler time | 
api_0-1   | http.post Histogram [p50=9.000678850493848, p99=29.997078882470035, max=565]#2253 Î¼s    ğš« [p50=+0, p99=-2.001772458229791, max=+0]#+1206 | http handler time | 
api_0-1   | 
api_0-1   | ================================ After 10.000 s ================================
api_0-1   | 
worker-1  | =================================== Metrics ====================================
worker-1  | 
worker-1  | Key        Kind      Value                                                             Units ğš« Delta                                                               | Description                 | Labels
worker-1  | --------------------------------------------------------------------------------
worker-1  | db.insert  Histogram [p50=1052.896290992505, p99=2284.037572116109, max=46943]#747     ns    ğš« [p50=-4.008617468622788, p99=+139.88427411423163, max=+0]#+42       | db insert time              | 
worker-1  | db.select  Histogram [p50=4737.666638904405, p99=4954.740248842975, max=6828]#6        ns    ğš« [p50=-147.21347898105614, p99=+0, max=+0]#+1                        | db query time               | 
worker-1  | pp_http    Histogram [p50=2852.9248823743137, p99=102099.18619404951, max=2001768]#957 Î¼s    ğš« [p50=+1933.9121124234262, p99=+570.1575135384774, max=+1899672]#+50 | payment processor http time | 
worker-1  | uds.handle Histogram [p50=6.999928967377545, p99=27.001704833335125, max=4558]#7710    Î¼s    ğš« [p50=+0, p99=-1.0009691804505216, max=+0]#+3297                     | http handler time           | 
worker-1  | 
worker-1  | ================================ After 10.000 s ================================
worker-1  | 
api_1-1   | =================================== Metrics ====================================
api_1-1   | 
api_1-1   | Key       Kind      Value                                                         Units ğš« Delta                                                            | Description       | Labels
api_1-1   | --------------------------------------------------------------------------------
api_1-1   | http.get  Histogram [p50=719.0277965058932, p99=719.0277965058932, max=719]#1     Î¼s    ğš« [p50=+0, p99=+0, max=+0]#+0                                      | http handler time | 
api_1-1   | http.post Histogram [p50=8.000467695685316, p99=27.001704833335125, max=290]#3913 Î¼s    ğš« [p50=-1.0002111548085324, p99=-1.0009691804505216, max=+0]#+1663 | http handler time | 
api_1-1   | 
api_1-1   | ================================ After 10.000 s ================================
api_1-1   | 
api_0-1   | =================================== Metrics ====================================
api_0-1   | 
api_0-1   | Key       Kind      Value                                                         Units ğš« Delta                                                            | Description       | Labels
api_0-1   | --------------------------------------------------------------------------------
api_0-1   | http.get  Histogram [p50=318.01546516977334, p99=321.01890460242095, max=2617]#5  Î¼s    ğš« [p50=+61.009315445539016, p99=+3.0034394326476104, max=+0]#+1    | http handler time | 
api_0-1   | http.post Histogram [p50=8.000467695685316, p99=30.997296978647597, max=565]#3915 Î¼s    ğš« [p50=-1.0002111548085324, p99=+1.0002180961775622, max=+0]#+1662 | http handler time | 
api_0-1   | 
api_0-1   | ================================ After 10.000 s ================================
api_0-1   | 
worker-1  | =================================== Metrics ====================================
worker-1  | 
worker-1  | Key        Kind      Value                                                              Units ğš« Delta                                                             | Description                 | Labels
worker-1  | --------------------------------------------------------------------------------
worker-1  | db.insert  Histogram [p50=546.044249777179, p99=1961.1768785569757, max=47525]#3674     ns    ğš« [p50=-506.85204121532615, p99=-322.8606935591333, max=+582]#+2927 | db insert time              | 
worker-1  | db.select  Histogram [p50=4737.666638904405, p99=4954.740248842975, max=6828]#7         ns    ğš« [p50=+0, p99=+0, max=+0]#+1                                       | db query time               | 
worker-1  | pp_http    Histogram [p50=2852.9248823743137, p99=101427.55039908946, max=2001768]#3884 Î¼s    ğš« [p50=+0, p99=-671.6357949600497, max=+0]#+2927                    | payment processor http time | 
worker-1  | uds.handle Histogram [p50=6.999928967377545, p99=37.99672634216644, max=4558]#11919     Î¼s    ğš« [p50=+0, p99=+10.995021508831314, max=+0]#+4209                   | http handler time           | 
worker-1  | 
worker-1  | ================================ After 10.000 s ================================
worker-1  | 
api_1-1   | =================================== Metrics ====================================
api_1-1   | 
api_1-1   | Key       Kind      Value                                                         Units ğš« Delta                                                     | Description       | Labels
api_1-1   | --------------------------------------------------------------------------------
api_1-1   | http.get  Histogram [p50=200.99901603074525, p99=200.99901603074525, max=719]#2   Î¼s    ğš« [p50=-518.028780475148, p99=-518.028780475148, max=+0]#+1 | http handler time | 
api_1-1   | http.post Histogram [p50=8.000467695685316, p99=28.002674013785647, max=290]#6031 Î¼s    ğš« [p50=+0, p99=+1.0009691804505216, max=+0]#+2118           | http handler time | 
api_1-1   | 
api_1-1   | ================================ After 10.000 s ================================
api_1-1   | 
api_0-1   | =================================== Metrics ====================================
api_0-1   | 
api_0-1   | Key       Kind      Value                                                         Units ğš« Delta                                           | Description       | Labels
api_0-1   | --------------------------------------------------------------------------------
api_0-1   | http.get  Histogram [p50=318.01546516977334, p99=321.01890460242095, max=2617]#5  Î¼s    ğš« [p50=+0, p99=+0, max=+0]#+0                     | http handler time | 
api_0-1   | http.post Histogram [p50=8.000467695685316, p99=29.997078882470035, max=565]#6037 Î¼s    ğš« [p50=+0, p99=-1.0002180961775622, max=+0]#+2122 | http handler time | 
api_0-1   | 
api_0-1   | ================================ After 10.000 s ================================
api_0-1   | 
worker-1  | =================================== Metrics ====================================
worker-1  | 
worker-1  | Key        Kind      Value                                                              Units ğš« Delta                                                            | Description                 | Labels
worker-1  | --------------------------------------------------------------------------------
worker-1  | db.insert  Histogram [p50=491.02744170631746, p99=1784.8684962959985, max=47525]#16752  ns    ğš« [p50=-55.01680807086149, p99=-176.30838226097717, max=+0]#+13078 | db insert time              | 
worker-1  | db.select  Histogram [p50=4737.666638904405, p99=4954.740248842975, max=6828]#7         ns    ğš« [p50=+0, p99=+0, max=+0]#+0                                      | db query time               | 
worker-1  | pp_http    Histogram [p50=2852.9248823743137, p99=100840.9733227112, max=2001768]#16962 Î¼s    ğš« [p50=+0, p99=-586.5770763782639, max=+0]#+13078                  | payment processor http time | 
worker-1  | uds.handle Histogram [p50=6.999928967377545, p99=169.9832685850933, max=4558]#16760     Î¼s    ğš« [p50=+0, p99=+131.98654224292687, max=+0]#+4841                  | http handler time           | 
worker-1  | 
worker-1  | ================================ After 10.000 s ================================
worker-1  | 
api_1-1   | =================================== Metrics ====================================
api_1-1   | 
api_1-1   | Key       Kind      Value                                                         Units ğš« Delta                                            | Description       | Labels
api_1-1   | --------------------------------------------------------------------------------
api_1-1   | http.get  Histogram [p50=200.99901603074525, p99=200.99901603074525, max=719]#2   Î¼s    ğš« [p50=+0, p99=+0, max=+0]#+0                      | http handler time | 
api_1-1   | http.post Histogram [p50=8.000467695685316, p99=29.997078882470035, max=382]#8376 Î¼s    ğš« [p50=+0, p99=+1.9944048686843878, max=+92]#+2345 | http handler time | 
api_1-1   | 
api_1-1   | ================================ After 10.000 s ================================
api_1-1   | 
api_0-1   | =================================== Metrics ====================================
api_0-1   | 
api_0-1   | Key       Kind      Value                                                         Units ğš« Delta                                            | Description       | Labels
api_0-1   | --------------------------------------------------------------------------------
api_0-1   | http.get  Histogram [p50=318.01546516977334, p99=321.01890460242095, max=2617]#5  Î¼s    ğš« [p50=+0, p99=+0, max=+0]#+0                      | http handler time | 
api_0-1   | http.post Histogram [p50=8.000467695685316, p99=30.997296978647597, max=645]#8376 Î¼s    ğš« [p50=+0, p99=+1.0002180961775622, max=+80]#+2339 | http handler time | 
api_0-1   | 
api_0-1   | ================================ After 10.000 s ================================
api_0-1   | 
[Knginx-1 exited with code 0
[Kapi_0-1 exited with code 143
[Kworker-1 exited with code 143
log truncated at line 1000
