
 nats Pulling 
 app01 Pulling 
 app02 Pulling 
 2a88a87726ad Pulling fs layer 
 110efc31dddf Pulling fs layer 
 110efc31dddf Downloading [==================================================>]     510B/510B
 110efc31dddf Download complete 
 2a88a87726ad Downloading [>                                                  ]  68.06kB/6.339MB
 2a88a87726ad Download complete 
 2a88a87726ad Extracting [>                                                  ]  65.54kB/6.339MB
 2a88a87726ad Extracting [==========================================>        ]  5.439MB/6.339MB
 2a88a87726ad Extracting [==================================================>]  6.339MB/6.339MB
 2a88a87726ad Pull complete 
 110efc31dddf Extracting [==================================================>]     510B/510B
 110efc31dddf Extracting [==================================================>]     510B/510B
 110efc31dddf Pull complete 
 ed4eefb93832 Pulling fs layer 
 nats Pulled 
 ed4eefb93832 Pulling fs layer 
 ed4eefb93832 Downloading [>                                                  ]  129.9kB/12.86MB
 ed4eefb93832 Downloading [>                                                  ]  129.9kB/12.86MB
 ed4eefb93832 Download complete 
 ed4eefb93832 Verifying Checksum 
 ed4eefb93832 Download complete 
 ed4eefb93832 Extracting [>                                                  ]  131.1kB/12.86MB
 ed4eefb93832 Extracting [>                                                  ]  131.1kB/12.86MB
 ed4eefb93832 Extracting [====================================>              ]  9.437MB/12.86MB
 ed4eefb93832 Extracting [====================================>              ]  9.437MB/12.86MB
 ed4eefb93832 Extracting [==================================================>]  12.86MB/12.86MB
 ed4eefb93832 Extracting [==================================================>]  12.86MB/12.86MB
 ed4eefb93832 Pull complete 
 ed4eefb93832 Pull complete 
 app02 Pulled 
 app01 Pulled 
 Network carlosqsilva-go_rinha  Creating
 Network carlosqsilva-go_rinha  Created
 Volume "carlosqsilva-go_data"  Creating
 Volume "carlosqsilva-go_data"  Created
 Volume "carlosqsilva-go_nats"  Creating
 Volume "carlosqsilva-go_nats"  Created
 Volume "carlosqsilva-go_sockets"  Creating
 Volume "carlosqsilva-go_sockets"  Created
 Container carlosqsilva-go-nats-1  Creating
 Container carlosqsilva-go-nats-1  Created
 Container app01  Creating
 Container app01  Created
 Container app02  Creating
 Container app02  Created
 Container proxy  Creating
 Container proxy  Created
Attaching to app01, app02, nats-1, proxy
nats-1  | [1] 2025/08/12 19:36:38.608482 [INF] Starting nats-server
nats-1  | [1] 2025/08/12 19:36:38.608524 [INF]   Version:  2.11.7
nats-1  | [1] 2025/08/12 19:36:38.608526 [INF]   Git:      [df44964]
nats-1  | [1] 2025/08/12 19:36:38.608528 [INF]   Name:     NB6YKC56C5SYPD45UUAXRZSOK7L3OKHW2BVY5RTIQ6P7ZAE7U75O7RMB
nats-1  | [1] 2025/08/12 19:36:38.608535 [INF]   Node:     XS2LmSZY
nats-1  | [1] 2025/08/12 19:36:38.608537 [INF]   ID:       NB6YKC56C5SYPD45UUAXRZSOK7L3OKHW2BVY5RTIQ6P7ZAE7U75O7RMB
nats-1  | [1] 2025/08/12 19:36:38.609124 [INF] Starting JetStream
nats-1  | [1] 2025/08/12 19:36:38.610117 [INF]     _ ___ _____ ___ _____ ___ ___   _   __  __
nats-1  | [1] 2025/08/12 19:36:38.610139 [INF]  _ | | __|_   _/ __|_   _| _ \ __| /_\ |  \/  |
nats-1  | [1] 2025/08/12 19:36:38.610141 [INF] | || | _|  | | \__ \ | | |   / _| / _ \| |\/| |
nats-1  | [1] 2025/08/12 19:36:38.610143 [INF]  \__/|___| |_| |___/ |_| |_|_\___/_/ \_\_|  |_|
nats-1  | [1] 2025/08/12 19:36:38.610145 [INF] 
nats-1  | [1] 2025/08/12 19:36:38.610147 [INF]          https://docs.nats.io/jetstream
nats-1  | [1] 2025/08/12 19:36:38.610149 [INF] 
nats-1  | [1] 2025/08/12 19:36:38.610151 [INF] ---------------- JETSTREAM ----------------
nats-1  | [1] 2025/08/12 19:36:38.610155 [INF]   Max Memory:      5.73 GB
nats-1  | [1] 2025/08/12 19:36:38.610159 [INF]   Max Storage:     168.54 GB
nats-1  | [1] 2025/08/12 19:36:38.610161 [INF]   Store Directory: "/data/jetstream"
nats-1  | [1] 2025/08/12 19:36:38.610163 [INF]   API Level:       1
nats-1  | [1] 2025/08/12 19:36:38.610165 [INF] -------------------------------------------
nats-1  | [1] 2025/08/12 19:36:38.610888 [INF] Listening for client connections on 0.0.0.0:4222
nats-1  | [1] 2025/08/12 19:36:38.611206 [INF] Server is ready
app01   | [Fx] PROVIDE	fx.Lifecycle <= go.uber.org/fx.New.func1()
app01   | [Fx] PROVIDE	fx.Shutdowner <= go.uber.org/fx.(*App).shutdowner-fm()
app01   | [Fx] PROVIDE	fx.DotGraph <= go.uber.org/fx.(*App).dotGraph-fm()
app01   | [Fx] PROVIDE	*config.Config <= github.com/carlosqsilva/rinha-2025/internal/config.New()
app01   | [Fx] PROVIDE	*db.Queries <= github.com/carlosqsilva/rinha-2025/internal/db.Connect()
app01   | [Fx] PROVIDE	*queue.Message <= github.com/carlosqsilva/rinha-2025/internal/queue.New()
app01   | [Fx] PROVIDE	*handler.Handler <= github.com/carlosqsilva/rinha-2025/internal/handler.New()
app01   | [Fx] PROVIDE	*healthcheck.HealthChecker <= github.com/carlosqsilva/rinha-2025/internal/health-check.New()
app01   | [Fx] PROVIDE	*api.Api <= github.com/carlosqsilva/rinha-2025/internal/api.New()
app01   | [Fx] INVOKE		main.main.func1()
app01   | [Fx] BEFORE RUN	provide: go.uber.org/fx.New.func1()
app01   | [Fx] RUN	provide: go.uber.org/fx.New.func1() in 10.621Âµs
app01   | [Fx] BEFORE RUN	provide: github.com/carlosqsilva/rinha-2025/internal/config.New()
app01   | [Fx] RUN	provide: github.com/carlosqsilva/rinha-2025/internal/config.New() in 33.902Âµs
app01   | [Fx] BEFORE RUN	provide: github.com/carlosqsilva/rinha-2025/internal/queue.New()
app01   | [Fx] RUN	provide: github.com/carlosqsilva/rinha-2025/internal/queue.New() in 4.455232ms
app01   | [Fx] BEFORE RUN	provide: github.com/carlosqsilva/rinha-2025/internal/db.Connect()
app01   | 2025/08/12 19:36:38 OK   001_intial.sql (842.09Âµs)
app01   | 2025/08/12 19:36:38 goose: successfully migrated database to version: 1
app01   | [Fx] RUN	provide: github.com/carlosqsilva/rinha-2025/internal/db.Connect() in 19.2463ms
app01   | [Fx] BEFORE RUN	provide: github.com/carlosqsilva/rinha-2025/internal/handler.New()
app01   | [Fx] RUN	provide: github.com/carlosqsilva/rinha-2025/internal/handler.New() in 166.4Âµs
app01   | [Fx] BEFORE RUN	provide: github.com/carlosqsilva/rinha-2025/internal/api.New()
app01   | [Fx] RUN	provide: github.com/carlosqsilva/rinha-2025/internal/api.New() in 64.89263ms
app01   | [Fx] BEFORE RUN	provide: github.com/carlosqsilva/rinha-2025/internal/health-check.New()
app01   | [Fx] RUN	provide: github.com/carlosqsilva/rinha-2025/internal/health-check.New() in 13.181Âµs
app01   | [Fx] HOOK OnStart		main.main.func1.1() executing (caller: main.main.func1)
app01   | [Fx] HOOK OnStart		main.main.func1.1() called by main.main.func1 ran successfully in 11.411Âµs
app01   | [Fx] RUNNING
app01   | 
app01   |  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” 
app01   |  â”‚                   Fiber v2.52.8                   â”‚ 
app01   |  â”‚           http://./sockets/rinha.app01:           â”‚ 
app01   |  â”‚                                                   â”‚ 
app01   |  â”‚ Handlers ............. 3  Processes ........... 1 â”‚ 
app01   |  â”‚ Prefork ....... Disabled  PID ................. 1 â”‚ 
app01   |  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ 
app01   | 
app02   | [Fx] PROVIDE	fx.Lifecycle <= go.uber.org/fx.New.func1()
app02   | [Fx] PROVIDE	fx.Shutdowner <= go.uber.org/fx.(*App).shutdowner-fm()
app02   | [Fx] PROVIDE	fx.DotGraph <= go.uber.org/fx.(*App).dotGraph-fm()
app02   | [Fx] PROVIDE	*config.Config <= github.com/carlosqsilva/rinha-2025/internal/config.New()
app02   | [Fx] PROVIDE	*db.Queries <= github.com/carlosqsilva/rinha-2025/internal/db.Connect()
app02   | [Fx] PROVIDE	*queue.Message <= github.com/carlosqsilva/rinha-2025/internal/queue.New()
app02   | [Fx] PROVIDE	*handler.Handler <= github.com/carlosqsilva/rinha-2025/internal/handler.New()
app02   | [Fx] PROVIDE	*healthcheck.HealthChecker <= github.com/carlosqsilva/rinha-2025/internal/health-check.New()
app02   | [Fx] PROVIDE	*api.Api <= github.com/carlosqsilva/rinha-2025/internal/api.New()
app02   | [Fx] INVOKE		main.main.func1()
app02   | [Fx] BEFORE RUN	provide: go.uber.org/fx.New.func1()
app02   | [Fx] RUN	provide: go.uber.org/fx.New.func1() in 9.23Âµs
app02   | [Fx] BEFORE RUN	provide: github.com/carlosqsilva/rinha-2025/internal/config.New()
app02   | [Fx] RUN	provide: github.com/carlosqsilva/rinha-2025/internal/config.New() in 8.921Âµs
app02   | [Fx] BEFORE RUN	provide: github.com/carlosqsilva/rinha-2025/internal/queue.New()
app02   | [Fx] RUN	provide: github.com/carlosqsilva/rinha-2025/internal/queue.New() in 2.327837ms
app02   | [Fx] BEFORE RUN	provide: github.com/carlosqsilva/rinha-2025/internal/db.Connect()
app02   | 2025/08/12 19:36:39 goose: no migrations to run. current version: 1
app02   | [Fx] RUN	provide: github.com/carlosqsilva/rinha-2025/internal/db.Connect() in 1.02312ms
app02   | [Fx] BEFORE RUN	provide: github.com/carlosqsilva/rinha-2025/internal/handler.New()
app02   | [Fx] RUN	provide: github.com/carlosqsilva/rinha-2025/internal/handler.New() in 22.292Âµs
app02   | [Fx] BEFORE RUN	provide: github.com/carlosqsilva/rinha-2025/internal/api.New()
app02   | [Fx] RUN	provide: github.com/carlosqsilva/rinha-2025/internal/api.New() in 289.677Âµs
app02   | [Fx] BEFORE RUN	provide: github.com/carlosqsilva/rinha-2025/internal/health-check.New()
app02   | [Fx] RUN	provide: github.com/carlosqsilva/rinha-2025/internal/health-check.New() in 7.99Âµs
app02   | [Fx] HOOK OnStart		main.main.func1.1() executing (caller: main.main.func1)
app02   | [Fx] HOOK OnStart		main.main.func1.1() called by main.main.func1 ran successfully in 20.691Âµs
app02   | [Fx] RUNNING
app02   | 
app02   |  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” 
app02   |  â”‚                   Fiber v2.52.8                   â”‚ 
app02   |  â”‚           http://./sockets/rinha.app02:           â”‚ 
app02   |  â”‚                                                   â”‚ 
app02   |  â”‚ Handlers ............. 3  Processes ........... 1 â”‚ 
app02   |  â”‚ Prefork ....... Disabled  PID ................. 1 â”‚ 
app02   |  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ 
app02   | 
proxy   | [NOTICE]   (1) : Initializing new worker (8)
proxy   | [NOTICE]   (1) : Loading success.
proxy   | [NOTICE]   (1) : haproxy version is 3.2.3-1844da7
proxy   | [WARNING]  (1) : Exiting Master process...
proxy   | [WARNING]  (8) : Proxy frontend stopped (cumulated conns: FE: 553, BE: 0).
proxy   | [WARNING]  (8) : Proxy rinha stopped (cumulated conns: FE: 0, BE: 16673).
proxy   | [WARNING]  (1) : Current worker (8) exited with code 0 (Exit)
proxy   | [WARNING]  (1) : All workers exited. Exiting... (0)
[Kproxy exited with code 0
app02   | [Fx] HOOK OnStop		main.main.func1.2() executing (caller: main.main.func1)
app02   | 2025/08/12 19:37:48 ERROR Server shutting down...
app02   | 2025/08/12 19:37:48 ERROR Listener shutdown failed error="close unix ./sockets/rinha.app02: use of closed network connection"
app02   | 2025/08/12 19:37:48 ERROR Failed to cleanup socket error="remove rinha.app02: no such file or directory"
app02   | [Fx] HOOK OnStop		main.main.func1.2() called by main.main.func1 ran successfully in 1.562331ms
[Kapp02 exited with code 0
app01   | [Fx] HOOK OnStop		main.main.func1.2() executing (caller: main.main.func1)
app01   | 2025/08/12 19:37:48 ERROR Server shutting down...
app01   | 2025/08/12 19:37:48 ERROR Listener shutdown failed error="close unix ./sockets/rinha.app01: use of closed network connection"
app01   | 2025/08/12 19:37:48 ERROR Failed to cleanup socket error="remove rinha.app01: no such file or directory"
app01   | [Fx] HOOK OnStop		main.main.func1.2() called by main.main.func1 ran successfully in 1.177659ms
[Kapp01 exited with code 0
nats-1  | [1] 2025/08/12 19:37:49.071172 [INF] Trapped "terminated" signal
nats-1  | [1] 2025/08/12 19:37:49.121363 [INF] Initiating Shutdown...
nats-1  | [1] 2025/08/12 19:37:49.121426 [INF] Initiating JetStream Shutdown...
nats-1  | [1] 2025/08/12 19:37:49.121773 [INF] JetStream Shutdown
nats-1  | [1] 2025/08/12 19:37:49.121844 [INF] Server Exiting..
log truncated at line 1000
