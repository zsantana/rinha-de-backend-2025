
 app02 Pulling 
 app01 Pulling 
 ed4eefb93832 Pulling fs layer 
 ed4eefb93832 Pulling fs layer 
 ed4eefb93832 Downloading [>                                                  ]  129.9kB/12.86MB
 ed4eefb93832 Downloading [>                                                  ]  129.9kB/12.86MB
 ed4eefb93832 Downloading [============================>                      ]  7.356MB/12.86MB
 ed4eefb93832 Downloading [============================>                      ]  7.356MB/12.86MB
 ed4eefb93832 Downloading [=================================================> ]  12.62MB/12.86MB
 ed4eefb93832 Downloading [=================================================> ]  12.62MB/12.86MB
 ed4eefb93832 Download complete 
 ed4eefb93832 Download complete 
 ed4eefb93832 Extracting [>                                                  ]  131.1kB/12.86MB
 ed4eefb93832 Extracting [>                                                  ]  131.1kB/12.86MB
 ed4eefb93832 Extracting [===================================>               ]  9.044MB/12.86MB
 ed4eefb93832 Extracting [===================================>               ]  9.044MB/12.86MB
 ed4eefb93832 Extracting [==================================================>]  12.86MB/12.86MB
 ed4eefb93832 Extracting [==================================================>]  12.86MB/12.86MB
 ed4eefb93832 Pull complete 
 ed4eefb93832 Pull complete 
 app01 Pulled 
 app02 Pulled 
 Network carlosqsilva-go_rinha  Creating
 Network carlosqsilva-go_rinha  Created
 Volume "carlosqsilva-go_sockets"  Creating
 Volume "carlosqsilva-go_sockets"  Created
 Volume "carlosqsilva-go_data"  Creating
 Volume "carlosqsilva-go_data"  Created
 Volume "carlosqsilva-go_nats"  Creating
 Volume "carlosqsilva-go_nats"  Created
 Container carlosqsilva-go-nats-1  Creating
 Container carlosqsilva-go-nats-1  Created
 Container app01  Creating
 Container app01  Created
 Container app02  Creating
 Container app02  Created
 Container proxy  Creating
 Container proxy  Created
Attaching to app01, app02, nats-1, proxy
nats-1  | [1] 2025/08/03 19:29:50.665138 [INF] Starting nats-server
nats-1  | [1] 2025/08/03 19:29:50.665208 [INF]   Version:  2.11.6
nats-1  | [1] 2025/08/03 19:29:50.665212 [INF]   Git:      [bc813ee]
nats-1  | [1] 2025/08/03 19:29:50.665215 [INF]   Name:     NB5ABIGMMOHTKAJ4UEXVYA26FZO4KL5BXJXR7OMQLZSKMCQ75FSVYKML
nats-1  | [1] 2025/08/03 19:29:50.665219 [INF]   Node:     9teDHCgE
nats-1  | [1] 2025/08/03 19:29:50.665221 [INF]   ID:       NB5ABIGMMOHTKAJ4UEXVYA26FZO4KL5BXJXR7OMQLZSKMCQ75FSVYKML
nats-1  | [1] 2025/08/03 19:29:50.665537 [INF] Starting JetStream
nats-1  | [1] 2025/08/03 19:29:50.665840 [INF]     _ ___ _____ ___ _____ ___ ___   _   __  __
nats-1  | [1] 2025/08/03 19:29:50.665844 [INF]  _ | | __|_   _/ __|_   _| _ \ __| /_\ |  \/  |
nats-1  | [1] 2025/08/03 19:29:50.665846 [INF] | || | _|  | | \__ \ | | |   / _| / _ \| |\/| |
nats-1  | [1] 2025/08/03 19:29:50.665848 [INF]  \__/|___| |_| |___/ |_| |_|_\___/_/ \_\_|  |_|
nats-1  | [1] 2025/08/03 19:29:50.665849 [INF] 
nats-1  | [1] 2025/08/03 19:29:50.665863 [INF]          https://docs.nats.io/jetstream
nats-1  | [1] 2025/08/03 19:29:50.665865 [INF] 
nats-1  | [1] 2025/08/03 19:29:50.665867 [INF] ---------------- JETSTREAM ----------------
nats-1  | [1] 2025/08/03 19:29:50.665870 [INF]   Max Memory:      5.73 GB
nats-1  | [1] 2025/08/03 19:29:50.665873 [INF]   Max Storage:     25.24 GB
nats-1  | [1] 2025/08/03 19:29:50.665875 [INF]   Store Directory: "/data/jetstream"
nats-1  | [1] 2025/08/03 19:29:50.665876 [INF]   API Level:       1
nats-1  | [1] 2025/08/03 19:29:50.665878 [INF] -------------------------------------------
nats-1  | [1] 2025/08/03 19:29:50.666875 [INF] Listening for client connections on 0.0.0.0:4222
nats-1  | [1] 2025/08/03 19:29:50.667073 [INF] Server is ready
app01   | [Fx] PROVIDE	fx.Lifecycle <= go.uber.org/fx.New.func1()
app01   | [Fx] PROVIDE	fx.Shutdowner <= go.uber.org/fx.(*App).shutdowner-fm()
app01   | [Fx] PROVIDE	fx.DotGraph <= go.uber.org/fx.(*App).dotGraph-fm()
app01   | [Fx] PROVIDE	*config.Config <= github.com/carlosqsilva/rinha-2025/internal/config.New()
app01   | [Fx] PROVIDE	*db.Queries <= github.com/carlosqsilva/rinha-2025/internal/db.Connect()
app01   | [Fx] PROVIDE	*queue.Message <= github.com/carlosqsilva/rinha-2025/internal/queue.New()
app01   | [Fx] PROVIDE	*handler.Handler <= github.com/carlosqsilva/rinha-2025/internal/handler.New()
app01   | [Fx] PROVIDE	*healthcheck.HealthChecker <= github.com/carlosqsilva/rinha-2025/internal/health-check.New()
app01   | [Fx] PROVIDE	*api.Api <= github.com/carlosqsilva/rinha-2025/internal/api.New()
app01   | [Fx] INVOKE		main.main.func1()
app01   | [Fx] BEFORE RUN	provide: go.uber.org/fx.New.func1()
app01   | [Fx] RUN	provide: go.uber.org/fx.New.func1() in 11.849Âµs
app01   | [Fx] BEFORE RUN	provide: github.com/carlosqsilva/rinha-2025/internal/config.New()
app01   | [Fx] RUN	provide: github.com/carlosqsilva/rinha-2025/internal/config.New() in 10.601Âµs
app01   | [Fx] BEFORE RUN	provide: github.com/carlosqsilva/rinha-2025/internal/queue.New()
app01   | [Fx] RUN	provide: github.com/carlosqsilva/rinha-2025/internal/queue.New() in 3.44686ms
app01   | [Fx] BEFORE RUN	provide: github.com/carlosqsilva/rinha-2025/internal/db.Connect()
app01   | 2025/08/03 19:29:51 OK   001_intial.sql (728.01Âµs)
app01   | 2025/08/03 19:29:51 goose: successfully migrated database to version: 1
app01   | [Fx] RUN	provide: github.com/carlosqsilva/rinha-2025/internal/db.Connect() in 75.919049ms
app01   | [Fx] BEFORE RUN	provide: github.com/carlosqsilva/rinha-2025/internal/handler.New()
app01   | [Fx] RUN	provide: github.com/carlosqsilva/rinha-2025/internal/handler.New() in 29.59Âµs
app01   | [Fx] BEFORE RUN	provide: github.com/carlosqsilva/rinha-2025/internal/api.New()
app01   | [Fx] RUN	provide: github.com/carlosqsilva/rinha-2025/internal/api.New() in 225.188Âµs
app01   | [Fx] BEFORE RUN	provide: github.com/carlosqsilva/rinha-2025/internal/health-check.New()
app01   | [Fx] RUN	provide: github.com/carlosqsilva/rinha-2025/internal/health-check.New() in 6.081Âµs
app01   | [Fx] HOOK OnStart		main.main.func1.1() executing (caller: main.main.func1)
app01   | [Fx] HOOK OnStart		main.main.func1.1() called by main.main.func1 ran successfully in 8.368Âµs
app01   | [Fx] RUNNING
app01   | 
app01   |  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” 
app01   |  â”‚                   Fiber v2.52.8                   â”‚ 
app01   |  â”‚           http://./sockets/rinha.app01:           â”‚ 
app01   |  â”‚                                                   â”‚ 
app01   |  â”‚ Handlers ............. 3  Processes ........... 1 â”‚ 
app01   |  â”‚ Prefork ....... Disabled  PID ................. 1 â”‚ 
app01   |  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ 
app01   | 
app02   | [Fx] PROVIDE	fx.Lifecycle <= go.uber.org/fx.New.func1()
app02   | [Fx] PROVIDE	fx.Shutdowner <= go.uber.org/fx.(*App).shutdowner-fm()
app02   | [Fx] PROVIDE	fx.DotGraph <= go.uber.org/fx.(*App).dotGraph-fm()
app02   | [Fx] PROVIDE	*config.Config <= github.com/carlosqsilva/rinha-2025/internal/config.New()
app02   | [Fx] PROVIDE	*db.Queries <= github.com/carlosqsilva/rinha-2025/internal/db.Connect()
app02   | [Fx] PROVIDE	*queue.Message <= github.com/carlosqsilva/rinha-2025/internal/queue.New()
app02   | [Fx] PROVIDE	*handler.Handler <= github.com/carlosqsilva/rinha-2025/internal/handler.New()
app02   | [Fx] PROVIDE	*healthcheck.HealthChecker <= github.com/carlosqsilva/rinha-2025/internal/health-check.New()
app02   | [Fx] PROVIDE	*api.Api <= github.com/carlosqsilva/rinha-2025/internal/api.New()
app02   | [Fx] INVOKE		main.main.func1()
app02   | [Fx] BEFORE RUN	provide: go.uber.org/fx.New.func1()
app02   | [Fx] RUN	provide: go.uber.org/fx.New.func1() in 6.891Âµs
app02   | [Fx] BEFORE RUN	provide: github.com/carlosqsilva/rinha-2025/internal/config.New()
app02   | [Fx] RUN	provide: github.com/carlosqsilva/rinha-2025/internal/config.New() in 5.941Âµs
app02   | [Fx] BEFORE RUN	provide: github.com/carlosqsilva/rinha-2025/internal/queue.New()
app02   | [Fx] RUN	provide: github.com/carlosqsilva/rinha-2025/internal/queue.New() in 2.189854ms
app02   | [Fx] BEFORE RUN	provide: github.com/carlosqsilva/rinha-2025/internal/db.Connect()
app02   | 2025/08/03 19:29:51 goose: no migrations to run. current version: 1
app02   | [Fx] RUN	provide: github.com/carlosqsilva/rinha-2025/internal/db.Connect() in 644.657Âµs
app02   | [Fx] BEFORE RUN	provide: github.com/carlosqsilva/rinha-2025/internal/handler.New()
app02   | [Fx] RUN	provide: github.com/carlosqsilva/rinha-2025/internal/handler.New() in 13.687Âµs
app02   | [Fx] BEFORE RUN	provide: github.com/carlosqsilva/rinha-2025/internal/api.New()
app02   | [Fx] RUN	provide: github.com/carlosqsilva/rinha-2025/internal/api.New() in 118.251Âµs
app02   | [Fx] BEFORE RUN	provide: github.com/carlosqsilva/rinha-2025/internal/health-check.New()
app02   | [Fx] RUN	provide: github.com/carlosqsilva/rinha-2025/internal/health-check.New() in 7.854Âµs
app02   | [Fx] HOOK OnStart		main.main.func1.1() executing (caller: main.main.func1)
app02   | [Fx] HOOK OnStart		main.main.func1.1() called by main.main.func1 ran successfully in 9.048Âµs
app02   | [Fx] RUNNING
app02   | 
app02   |  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” 
app02   |  â”‚                   Fiber v2.52.8                   â”‚ 
app02   |  â”‚           http://./sockets/rinha.app02:           â”‚ 
app02   |  â”‚                                                   â”‚ 
app02   |  â”‚ Handlers ............. 3  Processes ........... 1 â”‚ 
app02   |  â”‚ Prefork ....... Disabled  PID ................. 1 â”‚ 
app02   |  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ 
app02   | 
proxy   | [NOTICE]   (1) : Initializing new worker (8)
proxy   | [NOTICE]   (1) : Loading success.
proxy   | [NOTICE]   (1) : haproxy version is 3.2.3-1844da7
proxy   | [WARNING]  (1) : Exiting Master process...
proxy   | [WARNING]  (8) : Proxy frontend stopped (cumulated conns: FE: 553, BE: 0).
proxy   | [WARNING]  (8) : Proxy rinha stopped (cumulated conns: FE: 0, BE: 16698).
proxy   | [WARNING]  (1) : Current worker (8) exited with code 0 (Exit)
proxy   | [WARNING]  (1) : All workers exited. Exiting... (0)
[Kproxy exited with code 0
app02   | [Fx] HOOK OnStop		main.main.func1.2() executing (caller: main.main.func1)
app02   | 2025/08/03 19:31:04 ERROR Server shutting down...
app02   | 2025/08/03 19:31:04 ERROR Listener shutdown failed error="close unix ./sockets/rinha.app02: use of closed network connection"
app02   | 2025/08/03 19:31:04 ERROR Failed to cleanup socket error="remove rinha.app02: no such file or directory"
app02   | [Fx] HOOK OnStop		main.main.func1.2() called by main.main.func1 ran successfully in 2.385678ms
[Kapp02 exited with code 0
app01   | [Fx] HOOK OnStop		main.main.func1.2() executing (caller: main.main.func1)
app01   | 2025/08/03 19:31:04 ERROR Server shutting down...
app01   | 2025/08/03 19:31:04 ERROR Listener shutdown failed error="close unix ./sockets/rinha.app01: use of closed network connection"
app01   | 2025/08/03 19:31:04 ERROR Failed to cleanup socket error="remove rinha.app01: no such file or directory"
app01   | [Fx] HOOK OnStop		main.main.func1.2() called by main.main.func1 ran successfully in 1.101241ms
[Kapp01 exited with code 0
nats-1  | [1] 2025/08/03 19:31:05.161421 [INF] Trapped "terminated" signal
nats-1  | [1] 2025/08/03 19:31:05.211865 [INF] Initiating Shutdown...
nats-1  | [1] 2025/08/03 19:31:05.211904 [INF] Initiating JetStream Shutdown...
nats-1  | [1] 2025/08/03 19:31:05.212092 [INF] JetStream Shutdown
nats-1  | [1] 2025/08/03 19:31:05.212167 [INF] Server Exiting..
[Knats-1 exited with code 0
log truncated at line 1000
